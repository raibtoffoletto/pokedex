import{j as o,o as M,i as v,T as B,F as P,s as V}from"./@mui/icons-material-aab717a7.js";import{C as N,a as $,B as C,b as T,A as K,S as j,T as U,c as b}from"./@mui/material-a63b5765.js";import{r as a,b as G,u as _,c as X,B as q}from"./vendor-6650abbe.js";import"./@emotion/react-8ec11beb.js";import"./@emotion/styled-672b89e3.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function i(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerpolicy&&(t.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?t.credentials="include":n.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(n){if(n.ep)return;n.ep=!0;const t=i(n);fetch(n.href,t)}})();function W(){return o(N,{size:"4rem","aria-label":"loading app",sx:{position:"absolute",top:"calc(50% - 2rem)",left:"calc(50% - 2rem)"}})}const f=Object.freeze({BASE:"/",FAVORITES:"/favorites",404:"/notfound"}),g=Object.freeze({DARK_MODE:"rbt-pokedex-dark-mode",FAVORITES:"rbt-pokedex-favorites"}),ke="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon",R="https://pokeapi.co/api/v2",k=20,O=a.createContext({favorites:[],isFavorite:()=>!1,toggleFavorite:()=>{}});function we(){return a.useContext(O)}function J({children:r}){const[e,i]=a.useState(JSON.parse(window.localStorage.getItem(g.FAVORITES)||"[]")),c=a.useCallback(t=>e.findIndex(s=>s.id===t)>=0,[e]),n=a.useCallback(t=>{i(s=>{if(s.findIndex(l=>l.id===t.id)>=0)return s.filter(l=>l.id!==t.id);const h=s.slice().concat([t]);return h.sort((l,d)=>l.name.localeCompare(d.name,void 0,{sensitivity:"base"})),h})},[]);return a.useEffect(()=>{const t=JSON.stringify(e);t!==window.localStorage.getItem(g.FAVORITES)&&window.localStorage.setItem(g.FAVORITES,t)},[e]),o(O.Provider,{value:{favorites:e,isFavorite:c,toggleFavorite:n},children:r})}const H=a.memo(J),F=a.createContext({pokemons:[],isReady:!1,isLastPage:!1,loadNextPage:async()=>{}});function Pe(){return a.useContext(F)}const Y=(r,e)=>{const{type:i,value:c}=e;return i?{...r,[i]:c}:r},Z={page:0,totalRecords:0};async function E(r,e){const i=k,c=k*r,n=await fetch(`${R}/pokemon?offset=${c}&limit=${i}`,{signal:e});if(n.status>=400)throw new Error(n.statusText);const t=await n.json();return{...t,results:t.results.map(s=>({id:Number(s.url.replace(`${R}/pokemon`,"").replaceAll("/","")),name:s.name}))}}function Q({children:r}){const e=a.useRef(!1),[i,c]=a.useState(!1),[n,t]=a.useState([]),[{page:s,totalRecords:m},h]=a.useReducer(Y,Z),l=a.useMemo(()=>s===Math.ceil(m/k),[s,m]),d=a.useCallback(async()=>{if(!e.current)try{const u=s+1;e.current=!0;const{results:y}=await E(u);h({type:"page",value:u}),t(p=>p.concat(y))}catch(u){console.error(u)}finally{e.current=!1}},[s]);return a.useEffect(()=>{const u=new AbortController;async function y(){try{if(e.current)return;e.current=!0;const{count:p,results:D}=await E(0,u.signal);e.current=!1,h({type:"totalRecords",value:p}),t(D),c(!0)}catch(p){console.error(p)}}return y(),()=>{e.current&&u.abort()}},[]),o(F.Provider,{value:{pokemons:n,isReady:i,isLastPage:l,loadNextPage:d},children:r})}const ee=a.memo(Q),L=a.createContext({isDark:!1,toggleTheme:()=>{}});function te(){return a.useContext(L)}function oe({children:r}){const[e,i]=a.useState(localStorage.getItem(g.DARK_MODE)==="true"||!1),c=M({palette:{mode:e?"dark":"light",primary:{main:e?"#ffff00":"#0000ff"},secondary:{main:e?"#0000ff":"#ffff00"}},components:{MuiCssBaseline:{styleOverrides:{html:{scrollbehavior:"smooth"}}}}}),n=a.useCallback(()=>i(t=>{const s=!t;return localStorage.setItem(g.DARK_MODE,s?"true":"false"),s}),[]);return o(L.Provider,{value:{isDark:!!e,toggleTheme:n},children:v(B,{theme:c,children:[o($,{}),r]})})}var w={},S=G;w.createRoot=S.createRoot,w.hydrateRoot=S.hydrateRoot;const re="modulepreload",ne=function(r,e){return new URL(r,e).href},A={},x=function(e,i,c){if(!i||i.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(i.map(t=>{if(t=ne(t,c),t in A)return;A[t]=!0;const s=t.endsWith(".css"),m=s?'[rel="stylesheet"]':"";if(!!c)for(let d=n.length-1;d>=0;d--){const u=n[d];if(u.href===t&&(!s||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${m}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":re,s||(l.as="script",l.crossOrigin=""),l.href=t,document.head.appendChild(l),s)return new Promise((d,u)=>{l.addEventListener("load",d),l.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>e())};function se(){const r=_();return o(C,{component:"a",href:f.FAVORITES,onClick:e=>{e.preventDefault(),e.stopPropagation(),r(f.FAVORITES)},startIcon:o(P,{sx:{display:{xs:"none",sm:"flex"}}}),endIcon:o(P,{sx:{display:{xs:"flex",sm:"none"}}}),children:"Favorites"})}function ae(){const r=_();return v(C,{component:"a",href:f.BASE,onClick:e=>{e.preventDefault(),e.stopPropagation(),r(f.BASE)},sx:{padding:0,minWidth:0},children:[o(T,{display:{xs:"none",sm:"flex"},children:o("img",{src:"/logo.png",alt:"Pokedex Logo",loading:"lazy",width:281,height:48})}),o(K,{src:"/logo48.png",alt:"Pokedex Logo",sx:{display:{xs:"flex",sm:"none"}}})]})}const ie=V(j)(({theme:r})=>({width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>')`},"& + .MuiSwitch-track":{opacity:1,backgroundColor:r.palette.mode==="dark"?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:r.palette.mode==="dark"?"#003892":"#001e3c",width:32,height:32,"&:before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>')`}},"& .MuiSwitch-track":{opacity:1,backgroundColor:r.palette.mode==="dark"?"#8796A5":"#aab4be",borderRadius:20/2}}));function ce(){const{isDark:r,toggleTheme:e}=te();return o(ie,{sx:{m:1},checked:r,onChange:e,inputProps:{"aria-label":"switch color scheme"}})}function le(){return v(U,{disableGutters:!0,sx:{gap:1},component:"header",children:[o(ae,{}),v(T,{sx:{flexGrow:1,display:"flex",justifyContent:{xs:"space-between",sm:"flex-end"}},children:[o(se,{}),o(ce,{})]})]})}function ue({children:r}){return v(b,{maxWidth:"lg",sx:{display:"flex",flexDirection:"column",px:{xs:1,sm:2,md:4},gap:{xs:2,sm:4}},children:[o(le,{}),o(b,{disableGutters:!0,component:"main",sx:{display:"flex",flexDirection:"column",gap:{xs:2,sm:4}},children:r})]})}const de=a.lazy(()=>x(()=>import("./Favorites-a6ec2cf3.js"),["./Favorites-a6ec2cf3.js","./@mui/icons-material-aab717a7.js","./vendor-6650abbe.js","./@emotion/react-8ec11beb.js","./@emotion/styled-672b89e3.js","./Card-2cd3ffad.js","./@mui/material-a63b5765.js","./Grid-2d3a2a35.js"],import.meta.url)),I=a.lazy(()=>x(()=>import("./NotFound-f325838e.js"),["./NotFound-f325838e.js","./@mui/icons-material-aab717a7.js","./vendor-6650abbe.js","./@emotion/react-8ec11beb.js","./@emotion/styled-672b89e3.js","./@mui/material-a63b5765.js"],import.meta.url)),fe=a.lazy(()=>x(()=>import("./Pokedex-73df9035.js"),["./Pokedex-73df9035.js","./@mui/icons-material-aab717a7.js","./vendor-6650abbe.js","./@emotion/react-8ec11beb.js","./@emotion/styled-672b89e3.js","./Card-2cd3ffad.js","./@mui/material-a63b5765.js","./Grid-2d3a2a35.js"],import.meta.url)),me=a.lazy(()=>x(()=>import("./Pokemon-25c2720b.js"),["./Pokemon-25c2720b.js","./@mui/icons-material-aab717a7.js","./vendor-6650abbe.js","./@emotion/react-8ec11beb.js","./@emotion/styled-672b89e3.js","./Card-2cd3ffad.js","./@mui/material-a63b5765.js"],import.meta.url));function he(){const r=X([{path:f.BASE,children:[{index:!0,element:o(fe,{})},{path:":pokemon",element:o(me,{})}]},{path:f.FAVORITES,element:o(de,{})},{path:f[404],element:o(I,{})},{path:"*",element:o(I,{})}]);return o(ue,{children:r})}const z=document.getElementById("root");if(!z)throw new Error("Root component not found.");w.createRoot(z).render(o(oe,{children:o(ee,{children:o(H,{children:o(a.Suspense,{fallback:o(W,{}),children:o(q,{children:o(he,{})})})})})}));export{f as A,W as F,ke as P,Pe as a,R as b,we as u};
